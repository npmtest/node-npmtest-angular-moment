{"/home/travis/build/npmtest/node-npmtest-angular-moment/test.js":"/* istanbul instrument in package npmtest_angular_moment */\n/*jslint\n    bitwise: true,\n    browser: true,\n    maxerr: 8,\n    maxlen: 96,\n    node: true,\n    nomen: true,\n    regexp: true,\n    stupid: true\n*/\n(function () {\n    'use strict';\n    var local;\n\n\n\n    // run shared js-env code - init-before\n    (function () {\n        // init local\n        local = {};\n        // init modeJs\n        local.modeJs = (function () {\n            try {\n                return typeof navigator.userAgent === 'string' &&\n                    typeof document.querySelector('body') === 'object' &&\n                    typeof XMLHttpRequest.prototype.open === 'function' &&\n                    'browser';\n            } catch (errorCaughtBrowser) {\n                return module.exports &&\n                    typeof process.versions.node === 'string' &&\n                    typeof require('http').createServer === 'function' &&\n                    'node';\n            }\n        }());\n        // init global\n        local.global = local.modeJs === 'browser'\n            ? window\n            : global;\n        switch (local.modeJs) {\n        // re-init local from window.local\n        case 'browser':\n            local = local.global.utility2.objectSetDefault(\n                local.global.utility2_rollup || local.global.local,\n                local.global.utility2\n            );\n            break;\n        // re-init local from example.js\n        case 'node':\n            local = (local.global.utility2_rollup || require('utility2'))\n                .requireReadme();\n            break;\n        }\n        // export local\n        local.global.local = local;\n    }());\n\n\n\n    // run shared js-env code - function\n    (function () {\n        return;\n    }());\n    switch (local.modeJs) {\n\n\n\n    // run browser js-env code - function\n    case 'browser':\n        break;\n\n\n\n    // run node js-env code - function\n    case 'node':\n        break;\n    }\n\n\n\n    // run shared js-env code - init-after\n    (function () {\n        return;\n    }());\n    switch (local.modeJs) {\n\n\n\n    // run browser js-env code - init-after\n    case 'browser':\n        local.testCase_browser_nullCase = local.testCase_browser_nullCase || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test browsers's null-case handling-behavior-behavior\n         */\n            onError(null, options);\n        };\n\n        // run tests\n        local.nop(local.modeTest &&\n            document.querySelector('#testRunButton1') &&\n            document.querySelector('#testRunButton1').click());\n        break;\n\n\n\n    // run node js-env code - init-after\n    /* istanbul ignore next */\n    case 'node':\n        local.testCase_buildApidoc_default = local.testCase_buildApidoc_default || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test buildApidoc's default handling-behavior-behavior\n         */\n            options = { modulePathList: module.paths };\n            local.buildApidoc(options, onError);\n        };\n\n        local.testCase_buildApp_default = local.testCase_buildApp_default || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test buildApp's default handling-behavior-behavior\n         */\n            local.testCase_buildReadme_default(options, local.onErrorThrow);\n            local.testCase_buildLib_default(options, local.onErrorThrow);\n            local.testCase_buildTest_default(options, local.onErrorThrow);\n            local.testCase_buildCustomOrg_default(options, local.onErrorThrow);\n            options = [];\n            local.buildApp(options, onError);\n        };\n\n        local.testCase_buildCustomOrg_default = local.testCase_buildCustomOrg_default ||\n            function (options, onError) {\n            /*\n             * this function will test buildCustomOrg's default handling-behavior\n             */\n                options = {};\n                local.buildCustomOrg(options, onError);\n            };\n\n        local.testCase_buildLib_default = local.testCase_buildLib_default || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test buildLib's default handling-behavior\n         */\n            options = {};\n            local.buildLib(options, onError);\n        };\n\n        local.testCase_buildReadme_default = local.testCase_buildReadme_default || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test buildReadme's default handling-behavior-behavior\n         */\n            options = {};\n            local.buildReadme(options, onError);\n        };\n\n        local.testCase_buildTest_default = local.testCase_buildTest_default || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test buildTest's default handling-behavior\n         */\n            options = {};\n            local.buildTest(options, onError);\n        };\n\n        local.testCase_webpage_default = local.testCase_webpage_default || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test webpage's default handling-behavior\n         */\n            options = { modeCoverageMerge: true, url: local.serverLocalHost + '?modeTest=1' };\n            local.browserTest(options, onError);\n        };\n\n        // run test-server\n        local.testRunServer(local);\n        break;\n    }\n}());\n","/home/travis/build/npmtest/node-npmtest-angular-moment/lib.npmtest_angular_moment.js":"/* istanbul instrument in package npmtest_angular_moment */\n/*jslint\n    bitwise: true,\n    browser: true,\n    maxerr: 8,\n    maxlen: 96,\n    node: true,\n    nomen: true,\n    regexp: true,\n    stupid: true\n*/\n(function () {\n    'use strict';\n    var local;\n\n\n\n    // run shared js-env code - init-before\n    (function () {\n        // init local\n        local = {};\n        // init modeJs\n        local.modeJs = (function () {\n            try {\n                return typeof navigator.userAgent === 'string' &&\n                    typeof document.querySelector('body') === 'object' &&\n                    typeof XMLHttpRequest.prototype.open === 'function' &&\n                    'browser';\n            } catch (errorCaughtBrowser) {\n                return module.exports &&\n                    typeof process.versions.node === 'string' &&\n                    typeof require('http').createServer === 'function' &&\n                    'node';\n            }\n        }());\n        // init global\n        local.global = local.modeJs === 'browser'\n            ? window\n            : global;\n        // init utility2_rollup\n        local = local.global.utility2_rollup || local;\n        // init lib\n        local.local = local.npmtest_angular_moment = local;\n        // init exports\n        if (local.modeJs === 'browser') {\n            local.global.utility2_npmtest_angular_moment = local;\n        } else {\n            module.exports = local;\n            module.exports.__dirname = __dirname;\n            module.exports.module = module;\n        }\n    }());\n}());\n","/home/travis/build/npmtest/node-npmtest-angular-moment/example.js":"/*\nexample.js\n\nquickstart example\n\ninstruction\n    1. save this script as example.js\n    2. run the shell command:\n        $ npm install npmtest-angular-moment && PORT=8081 node example.js\n    3. play with the browser-demo on http://127.0.0.1:8081\n*/\n\n\n\n/* istanbul instrument in package npmtest_angular_moment */\n/*jslint\n    bitwise: true,\n    browser: true,\n    maxerr: 8,\n    maxlen: 96,\n    node: true,\n    nomen: true,\n    regexp: true,\n    stupid: true\n*/\n(function () {\n    'use strict';\n    var local;\n\n\n\n    // run shared js-env code - init-before\n    (function () {\n        // init local\n        local = {};\n        // init modeJs\n        local.modeJs = (function () {\n            try {\n                return typeof navigator.userAgent === 'string' &&\n                    typeof document.querySelector('body') === 'object' &&\n                    typeof XMLHttpRequest.prototype.open === 'function' &&\n                    'browser';\n            } catch (errorCaughtBrowser) {\n                return module.exports &&\n                    typeof process.versions.node === 'string' &&\n                    typeof require('http').createServer === 'function' &&\n                    'node';\n            }\n        }());\n        // init global\n        local.global = local.modeJs === 'browser'\n            ? window\n            : global;\n        // init utility2_rollup\n        local = local.global.utility2_rollup || (local.modeJs === 'browser'\n            ? local.global.utility2_npmtest_angular_moment\n            : global.utility2_moduleExports);\n        // export local\n        local.global.local = local;\n    }());\n    switch (local.modeJs) {\n\n\n\n    // init-after\n    // run browser js-env code - init-after\n    /* istanbul ignore next */\n    case 'browser':\n        local.testRunBrowser = function (event) {\n            if (!event || (event &&\n                    event.currentTarget &&\n                    event.currentTarget.className &&\n                    event.currentTarget.className.includes &&\n                    event.currentTarget.className.includes('onreset'))) {\n                // reset output\n                Array.from(\n                    document.querySelectorAll('body > .resettable')\n                ).forEach(function (element) {\n                    switch (element.tagName) {\n                    case 'INPUT':\n                    case 'TEXTAREA':\n                        element.value = '';\n                        break;\n                    default:\n                        element.textContent = '';\n                    }\n                });\n            }\n            switch (event && event.currentTarget && event.currentTarget.id) {\n            case 'testRunButton1':\n                // show tests\n                if (document.querySelector('#testReportDiv1').style.display === 'none') {\n                    document.querySelector('#testReportDiv1').style.display = 'block';\n                    document.querySelector('#testRunButton1').textContent =\n                        'hide internal test';\n                    local.modeTest = true;\n                    local.testRunDefault(local);\n                // hide tests\n                } else {\n                    document.querySelector('#testReportDiv1').style.display = 'none';\n                    document.querySelector('#testRunButton1').textContent = 'run internal test';\n                }\n                break;\n            // custom-case\n            default:\n                break;\n            }\n            if (document.querySelector('#inputTextareaEval1') && (!event || (event &&\n                    event.currentTarget &&\n                    event.currentTarget.className &&\n                    event.currentTarget.className.includes &&\n                    event.currentTarget.className.includes('oneval')))) {\n                // try to eval input-code\n                try {\n                    /*jslint evil: true*/\n                    eval(document.querySelector('#inputTextareaEval1').value);\n                } catch (errorCaught) {\n                    console.error(errorCaught);\n                }\n            }\n        };\n        // log stderr and stdout to #outputTextareaStdout1\n        ['error', 'log'].forEach(function (key) {\n            console[key + '_original'] = console[key];\n            console[key] = function () {\n                var element;\n                console[key + '_original'].apply(console, arguments);\n                element = document.querySelector('#outputTextareaStdout1');\n                if (!element) {\n                    return;\n                }\n                // append text to #outputTextareaStdout1\n                element.value += Array.from(arguments).map(function (arg) {\n                    return typeof arg === 'string'\n                        ? arg\n                        : JSON.stringify(arg, null, 4);\n                }).join(' ') + '\\n';\n                // scroll textarea to bottom\n                element.scrollTop = element.scrollHeight;\n            };\n        });\n        // init event-handling\n        ['change', 'click', 'keyup'].forEach(function (event) {\n            Array.from(document.querySelectorAll('.on' + event)).forEach(function (element) {\n                element.addEventListener(event, local.testRunBrowser);\n            });\n        });\n        // run tests\n        local.testRunBrowser();\n        break;\n\n\n\n    // run node js-env code - init-after\n    /* istanbul ignore next */\n    case 'node':\n        // export local\n        module.exports = local;\n        // require modules\n        local.fs = require('fs');\n        local.http = require('http');\n        local.url = require('url');\n        // init assets\n        local.assetsDict = local.assetsDict || {};\n        /* jslint-ignore-begin */\n        local.assetsDict['/assets.index.template.html'] = '\\\n<!doctype html>\\n\\\n<html lang=\"en\">\\n\\\n<head>\\n\\\n<meta charset=\"UTF-8\">\\n\\\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\\n\\\n<title>{{env.npm_package_name}} (v{{env.npm_package_version}})</title>\\n\\\n<style>\\n\\\n/*csslint\\n\\\n    box-sizing: false,\\n\\\n    universal-selector: false\\n\\\n*/\\n\\\n* {\\n\\\n    box-sizing: border-box;\\n\\\n}\\n\\\nbody {\\n\\\n    background: #dde;\\n\\\n    font-family: Arial, Helvetica, sans-serif;\\n\\\n    margin: 2rem;\\n\\\n}\\n\\\nbody > * {\\n\\\n    margin-bottom: 1rem;\\n\\\n}\\n\\\n.utility2FooterDiv {\\n\\\n    margin-top: 20px;\\n\\\n    text-align: center;\\n\\\n}\\n\\\n</style>\\n\\\n<style>\\n\\\n/*csslint\\n\\\n*/\\n\\\ntextarea {\\n\\\n    font-family: monospace;\\n\\\n    height: 10rem;\\n\\\n    width: 100%;\\n\\\n}\\n\\\ntextarea[readonly] {\\n\\\n    background: #ddd;\\n\\\n}\\n\\\n</style>\\n\\\n</head>\\n\\\n<body>\\n\\\n<!-- utility2-comment\\n\\\n<div id=\"ajaxProgressDiv1\" style=\"background: #d00; height: 2px; left: 0; margin: 0; padding: 0; position: fixed; top: 0; transition: background 0.5s, width 1.5s; width: 25%;\"></div>\\n\\\nutility2-comment -->\\n\\\n<h1>\\n\\\n<!-- utility2-comment\\n\\\n    <a\\n\\\n        {{#if env.npm_package_homepage}}\\n\\\n        href=\"{{env.npm_package_homepage}}\"\\n\\\n        {{/if env.npm_package_homepage}}\\n\\\n        target=\"_blank\"\\n\\\n    >\\n\\\nutility2-comment -->\\n\\\n        {{env.npm_package_name}} (v{{env.npm_package_version}})\\n\\\n<!-- utility2-comment\\n\\\n    </a>\\n\\\nutility2-comment -->\\n\\\n</h1>\\n\\\n<h3>{{env.npm_package_description}}</h3>\\n\\\n<!-- utility2-comment\\n\\\n<h4><a download href=\"assets.app.js\">download standalone app</a></h4>\\n\\\n<button class=\"onclick onreset\" id=\"testRunButton1\">run internal test</button><br>\\n\\\n<div id=\"testReportDiv1\" style=\"display: none;\"></div>\\n\\\nutility2-comment -->\\n\\\n\\n\\\n\\n\\\n\\n\\\n<label>stderr and stdout</label>\\n\\\n<textarea class=\"resettable\" id=\"outputTextareaStdout1\" readonly></textarea>\\n\\\n<!-- utility2-comment\\n\\\n{{#if isRollup}}\\n\\\n<script src=\"assets.app.js\"></script>\\n\\\n{{#unless isRollup}}\\n\\\nutility2-comment -->\\n\\\n<script src=\"assets.utility2.rollup.js\"></script>\\n\\\n<script src=\"jsonp.utility2._stateInit?callback=window.utility2._stateInit\"></script>\\n\\\n<script src=\"assets.npmtest_angular_moment.rollup.js\"></script>\\n\\\n<script src=\"assets.example.js\"></script>\\n\\\n<script src=\"assets.test.js\"></script>\\n\\\n<!-- utility2-comment\\n\\\n{{/if isRollup}}\\n\\\nutility2-comment -->\\n\\\n<div class=\"utility2FooterDiv\">\\n\\\n    [ this app was created with\\n\\\n    <a href=\"https://github.com/kaizhu256/node-utility2\" target=\"_blank\">utility2</a>\\n\\\n    ]\\n\\\n</div>\\n\\\n</body>\\n\\\n</html>\\n\\\n';\n        /* jslint-ignore-end */\n        if (local.templateRender) {\n            local.assetsDict['/'] = local.templateRender(\n                local.assetsDict['/assets.index.template.html'],\n                {\n                    env: local.objectSetDefault(local.env, {\n                        npm_package_description: 'the greatest app in the world!',\n                        npm_package_name: 'my-app',\n                        npm_package_nameAlias: 'my_app',\n                        npm_package_version: '0.0.1'\n                    })\n                }\n            );\n        } else {\n            local.assetsDict['/'] = local.assetsDict['/assets.index.template.html']\n                .replace((/\\{\\{env\\.(\\w+?)\\}\\}/g), function (match0, match1) {\n                    // jslint-hack\n                    String(match0);\n                    switch (match1) {\n                    case 'npm_package_description':\n                        return 'the greatest app in the world!';\n                    case 'npm_package_name':\n                        return 'my-app';\n                    case 'npm_package_nameAlias':\n                        return 'my_app';\n                    case 'npm_package_version':\n                        return '0.0.1';\n                    }\n                });\n        }\n        // run the cli\n        if (local.global.utility2_rollup || module !== require.main) {\n            break;\n        }\n        local.assetsDict['/assets.example.js'] =\n            local.assetsDict['/assets.example.js'] ||\n            local.fs.readFileSync(__filename, 'utf8');\n        // bug-workaround - long $npm_package_buildCustomOrg\n        /* jslint-ignore-begin */\n        local.assetsDict['/assets.npmtest_angular_moment.rollup.js'] =\n            local.assetsDict['/assets.npmtest_angular_moment.rollup.js'] ||\n            local.fs.readFileSync(\n                local.npmtest_angular_moment.__dirname + '/lib.npmtest_angular_moment.js',\n                'utf8'\n            ).replace((/^#!/), '//');\n        /* jslint-ignore-end */\n        local.assetsDict['/favicon.ico'] = local.assetsDict['/favicon.ico'] || '';\n        // if $npm_config_timeout_exit exists,\n        // then exit this process after $npm_config_timeout_exit ms\n        if (Number(process.env.npm_config_timeout_exit)) {\n            setTimeout(process.exit, Number(process.env.npm_config_timeout_exit));\n        }\n        // start server\n        if (local.global.utility2_serverHttp1) {\n            break;\n        }\n        process.env.PORT = process.env.PORT || '8081';\n        console.error('server starting on port ' + process.env.PORT);\n        local.http.createServer(function (request, response) {\n            request.urlParsed = local.url.parse(request.url);\n            if (local.assetsDict[request.urlParsed.pathname] !== undefined) {\n                response.end(local.assetsDict[request.urlParsed.pathname]);\n                return;\n            }\n            response.statusCode = 404;\n            response.end();\n        }).listen(process.env.PORT);\n        break;\n    }\n}());\n","/home/travis/build/npmtest/node-npmtest-angular-moment/node_modules/angular-moment/angular-moment.js":"/* angular-moment.js / v1.0.1 / (c) 2013, 2014, 2015, 2016 Uri Shaked / MIT Licence */\r\n\r\n'format amd';\r\n/* global define */\r\n\r\n(function () {\r\n\t'use strict';\r\n\r\n\tfunction isUndefinedOrNull(val) {\r\n\t\treturn angular.isUndefined(val) || val === null;\r\n\t}\r\n\r\n\tfunction requireMoment() {\r\n\t\ttry {\r\n\t\t\treturn require('moment'); // Using nw.js or browserify?\r\n\t\t} catch (e) {\r\n\t\t\tthrow new Error('Please install moment via npm. Please reference to: https://github.com/urish/angular-moment'); // Add wiki/troubleshooting section?\r\n\t\t}\r\n\t}\r\n\r\n\tfunction angularMoment(angular, moment) {\r\n\r\n\t\tif(typeof moment === 'undefined') {\r\n\t\t\tif(typeof require === 'function') {\r\n\t\t\t\tmoment = requireMoment();\r\n\t\t\t}else{\r\n\t\t\t\tthrow new Error('Moment cannot be found by angular-moment! Please reference to: https://github.com/urish/angular-moment'); // Add wiki/troubleshooting section?\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * @ngdoc overview\r\n\t\t * @name angularMoment\r\n\t\t *\r\n\t\t * @description\r\n\t\t * angularMoment module provides moment.js functionality for angular.js apps.\r\n\t\t */\r\n\t\tangular.module('angularMoment', [])\r\n\r\n\t\t/**\r\n\t\t * @ngdoc object\r\n\t\t * @name angularMoment.config:angularMomentConfig\r\n\t\t *\r\n\t\t * @description\r\n\t\t * Common configuration of the angularMoment module\r\n\t\t */\r\n\t\t\t.constant('angularMomentConfig', {\r\n\t\t\t\t/**\r\n\t\t\t\t * @ngdoc property\r\n\t\t\t\t * @name angularMoment.config.angularMomentConfig#preprocess\r\n\t\t\t\t * @propertyOf angularMoment.config:angularMomentConfig\r\n\t\t\t\t * @returns {function} A preprocessor function that will be applied on all incoming dates\r\n\t\t\t\t *\r\n\t\t\t\t * @description\r\n\t\t\t\t * Defines a preprocessor function to apply on all input dates (e.g. the input of `am-time-ago`,\r\n\t\t\t\t * `amCalendar`, etc.). The function must return a `moment` object.\r\n\t\t\t\t *\r\n\t\t\t\t * @example\r\n\t\t\t\t *   // Causes angular-moment to always treat the input values as unix timestamps\r\n\t\t\t\t *   angularMomentConfig.preprocess = function(value) {\r\n\t\t\t\t * \t   return moment.unix(value);\r\n\t\t\t\t *   }\r\n\t\t\t\t */\r\n\t\t\t\tpreprocess: null,\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * @ngdoc property\r\n\t\t\t\t * @name angularMoment.config.angularMomentConfig#timezone\r\n\t\t\t\t * @propertyOf angularMoment.config:angularMomentConfig\r\n\t\t\t\t * @returns {string} The default timezone\r\n\t\t\t\t *\r\n\t\t\t\t * @description\r\n\t\t\t\t * The default timezone (e.g. 'Europe/London'). Empty string by default (does not apply\r\n\t\t\t\t * any timezone shift).\r\n\t\t\t\t *\r\n\t\t\t\t * NOTE: This option requires moment-timezone >= 0.3.0.\r\n\t\t\t\t */\r\n\t\t\t\ttimezone: null,\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * @ngdoc property\r\n\t\t\t\t * @name angularMoment.config.angularMomentConfig#format\r\n\t\t\t\t * @propertyOf angularMoment.config:angularMomentConfig\r\n\t\t\t\t * @returns {string} The pre-conversion format of the date\r\n\t\t\t\t *\r\n\t\t\t\t * @description\r\n\t\t\t\t * Specify the format of the input date. Essentially it's a\r\n\t\t\t\t * default and saves you from specifying a format in every\r\n\t\t\t\t * element. Overridden by element attr. Null by default.\r\n\t\t\t\t */\r\n\t\t\t\tformat: null,\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * @ngdoc property\r\n\t\t\t\t * @name angularMoment.config.angularMomentConfig#statefulFilters\r\n\t\t\t\t * @propertyOf angularMoment.config:angularMomentConfig\r\n\t\t\t\t * @returns {boolean} Whether angular-moment filters should be stateless (or not)\r\n\t\t\t\t *\r\n\t\t\t\t * @description\r\n\t\t\t\t * Specifies whether the filters included with angular-moment are stateful.\r\n\t\t\t\t * Stateful filters will automatically re-evaluate whenever you change the timezone\r\n\t\t\t\t * or locale settings, but may negatively impact performance. true by default.\r\n\t\t\t\t */\r\n\t\t\t\tstatefulFilters: true\r\n\t\t\t})\r\n\r\n\t\t/**\r\n\t\t * @ngdoc object\r\n\t\t * @name angularMoment.object:moment\r\n\t\t *\r\n\t\t * @description\r\n\t\t * moment global (as provided by the moment.js library)\r\n\t\t */\r\n\t\t\t.constant('moment', moment)\r\n\r\n\t\t/**\r\n\t\t * @ngdoc object\r\n\t\t * @name angularMoment.config:amTimeAgoConfig\r\n\t\t * @module angularMoment\r\n\t\t *\r\n\t\t * @description\r\n\t\t * configuration specific to the amTimeAgo directive\r\n\t\t */\r\n\t\t\t.constant('amTimeAgoConfig', {\r\n\t\t\t\t/**\r\n\t\t\t\t * @ngdoc property\r\n\t\t\t\t * @name angularMoment.config.amTimeAgoConfig#withoutSuffix\r\n\t\t\t\t * @propertyOf angularMoment.config:amTimeAgoConfig\r\n\t\t\t\t * @returns {boolean} Whether to include a suffix in am-time-ago directive\r\n\t\t\t\t *\r\n\t\t\t\t * @description\r\n\t\t\t\t * Defaults to false.\r\n\t\t\t\t */\r\n\t\t\t\twithoutSuffix: false,\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * @ngdoc property\r\n\t\t\t\t * @name angularMoment.config.amTimeAgoConfig#serverTime\r\n\t\t\t\t * @propertyOf angularMoment.config:amTimeAgoConfig\r\n\t\t\t\t * @returns {number} Server time in milliseconds since the epoch\r\n\t\t\t\t *\r\n\t\t\t\t * @description\r\n\t\t\t\t * If set, time ago will be calculated relative to the given value.\r\n\t\t\t\t * If null, local time will be used. Defaults to null.\r\n\t\t\t\t */\r\n\t\t\t\tserverTime: null,\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * @ngdoc property\r\n\t\t\t\t * @name angularMoment.config.amTimeAgoConfig#titleFormat\r\n\t\t\t\t * @propertyOf angularMoment.config:amTimeAgoConfig\r\n\t\t\t\t * @returns {string} The format of the date to be displayed in the title of the element. If null,\r\n\t\t\t\t *        the directive set the title of the element.\r\n\t\t\t\t *\r\n\t\t\t\t * @description\r\n\t\t\t\t * The format of the date used for the title of the element. null by default.\r\n\t\t\t\t */\r\n\t\t\t\ttitleFormat: null,\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * @ngdoc property\r\n\t\t\t\t * @name angularMoment.config.amTimeAgoConfig#fullDateThreshold\r\n\t\t\t\t * @propertyOf angularMoment.config:amTimeAgoConfig\r\n\t\t\t\t * @returns {number} The minimum number of days for showing a full date instead of relative time\r\n\t\t\t\t *\r\n\t\t\t\t * @description\r\n\t\t\t\t * The threshold for displaying a full date. The default is null, which means the date will always\r\n\t\t\t\t * be relative, and full date will never be displayed.\r\n\t\t\t\t */\r\n\t\t\t\tfullDateThreshold: null,\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * @ngdoc property\r\n\t\t\t\t * @name angularMoment.config.amTimeAgoConfig#fullDateFormat\r\n\t\t\t\t * @propertyOf angularMoment.config:amTimeAgoConfig\r\n\t\t\t\t * @returns {string} The format to use when displaying a full date.\r\n\t\t\t\t *\r\n\t\t\t\t * @description\r\n\t\t\t\t * Specify the format of the date when displayed as full date. null by default.\r\n\t\t\t\t */\r\n\t\t\t\tfullDateFormat: null,\r\n\r\n\t\t\t\tfullDateThresholdUnit: 'day'\r\n\t\t\t})\r\n\r\n\t\t/**\r\n\t\t * @ngdoc directive\r\n\t\t * @name angularMoment.directive:amTimeAgo\r\n\t\t * @module angularMoment\r\n\t\t *\r\n\t\t * @restrict A\r\n\t\t */\r\n\t\t\t.directive('amTimeAgo', ['$window', 'moment', 'amMoment', 'amTimeAgoConfig', function ($window, moment, amMoment, amTimeAgoConfig) {\r\n\r\n\t\t\t\treturn function (scope, element, attr) {\r\n\t\t\t\t\tvar activeTimeout = null;\r\n\t\t\t\t\tvar currentValue;\r\n\t\t\t\t\tvar withoutSuffix = amTimeAgoConfig.withoutSuffix;\r\n\t\t\t\t\tvar titleFormat = amTimeAgoConfig.titleFormat;\r\n\t\t\t\t\tvar fullDateThreshold = amTimeAgoConfig.fullDateThreshold;\r\n\t\t\t\t\tvar fullDateFormat = amTimeAgoConfig.fullDateFormat;\r\n\t\t\t\t\tvar fullDateThresholdUnit = amTimeAgoConfig.fullDateThresholdUnit;\r\n\r\n\t\t\t\t\tvar localDate = new Date().getTime();\r\n\t\t\t\t\tvar modelName = attr.amTimeAgo;\r\n\t\t\t\t\tvar currentFrom;\r\n\t\t\t\t\tvar isTimeElement = ('TIME' === element[0].nodeName.toUpperCase());\r\n\t\t\t\t\tvar setTitleTime = !element.attr('title');\r\n\r\n\t\t\t\t\tfunction getNow() {\r\n\t\t\t\t\t\tvar now;\r\n\t\t\t\t\t\tif (currentFrom) {\r\n\t\t\t\t\t\t\tnow = currentFrom;\r\n\t\t\t\t\t\t} else if (amTimeAgoConfig.serverTime) {\r\n\t\t\t\t\t\t\tvar localNow = new Date().getTime();\r\n\t\t\t\t\t\t\tvar nowMillis = localNow - localDate + amTimeAgoConfig.serverTime;\r\n\t\t\t\t\t\t\tnow = moment(nowMillis);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tnow = moment();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn now;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tfunction cancelTimer() {\r\n\t\t\t\t\t\tif (activeTimeout) {\r\n\t\t\t\t\t\t\t$window.clearTimeout(activeTimeout);\r\n\t\t\t\t\t\t\tactiveTimeout = null;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tfunction updateTime(momentInstance) {\r\n\t\t\t\t\t\tvar timeAgo = getNow().diff(momentInstance, fullDateThresholdUnit);\r\n\t\t\t\t\t\tvar showFullDate = fullDateThreshold && timeAgo >= fullDateThreshold;\r\n\r\n\t\t\t\t\t\tif (showFullDate) {\r\n\t\t\t\t\t\t\telement.text(momentInstance.format(fullDateFormat));\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\telement.text(momentInstance.from(getNow(), withoutSuffix));\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (titleFormat && setTitleTime) {\r\n\t\t\t\t\t\t\telement.attr('title', momentInstance.format(titleFormat));\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (!showFullDate) {\r\n\t\t\t\t\t\t\tvar howOld = Math.abs(getNow().diff(momentInstance, 'minute'));\r\n\t\t\t\t\t\t\tvar secondsUntilUpdate = 3600;\r\n\t\t\t\t\t\t\tif (howOld < 1) {\r\n\t\t\t\t\t\t\t\tsecondsUntilUpdate = 1;\r\n\t\t\t\t\t\t\t} else if (howOld < 60) {\r\n\t\t\t\t\t\t\t\tsecondsUntilUpdate = 30;\r\n\t\t\t\t\t\t\t} else if (howOld < 180) {\r\n\t\t\t\t\t\t\t\tsecondsUntilUpdate = 300;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tactiveTimeout = $window.setTimeout(function () {\r\n\t\t\t\t\t\t\t\tupdateTime(momentInstance);\r\n\t\t\t\t\t\t\t}, secondsUntilUpdate * 1000);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tfunction updateDateTimeAttr(value) {\r\n\t\t\t\t\t\tif (isTimeElement) {\r\n\t\t\t\t\t\t\telement.attr('datetime', value);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tfunction updateMoment() {\r\n\t\t\t\t\t\tcancelTimer();\r\n\t\t\t\t\t\tif (currentValue) {\r\n\t\t\t\t\t\t\tvar momentValue = amMoment.preprocessDate(currentValue);\r\n\t\t\t\t\t\t\tupdateTime(momentValue);\r\n\t\t\t\t\t\t\tupdateDateTimeAttr(momentValue.toISOString());\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tscope.$watch(modelName, function (value) {\r\n\t\t\t\t\t\tif (isUndefinedOrNull(value) || (value === '')) {\r\n\t\t\t\t\t\t\tcancelTimer();\r\n\t\t\t\t\t\t\tif (currentValue) {\r\n\t\t\t\t\t\t\t\telement.text('');\r\n\t\t\t\t\t\t\t\tupdateDateTimeAttr('');\r\n\t\t\t\t\t\t\t\tcurrentValue = null;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tcurrentValue = value;\r\n\t\t\t\t\t\tupdateMoment();\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tif (angular.isDefined(attr.amFrom)) {\r\n\t\t\t\t\t\tscope.$watch(attr.amFrom, function (value) {\r\n\t\t\t\t\t\t\tif (isUndefinedOrNull(value) || (value === '')) {\r\n\t\t\t\t\t\t\t\tcurrentFrom = null;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tcurrentFrom = moment(value);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tupdateMoment();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (angular.isDefined(attr.amWithoutSuffix)) {\r\n\t\t\t\t\t\tscope.$watch(attr.amWithoutSuffix, function (value) {\r\n\t\t\t\t\t\t\tif (typeof value === 'boolean') {\r\n\t\t\t\t\t\t\t\twithoutSuffix = value;\r\n\t\t\t\t\t\t\t\tupdateMoment();\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\twithoutSuffix = amTimeAgoConfig.withoutSuffix;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tattr.$observe('amFullDateThreshold', function (newValue) {\r\n\t\t\t\t\t\tfullDateThreshold = newValue;\r\n\t\t\t\t\t\tupdateMoment();\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tattr.$observe('amFullDateFormat', function (newValue) {\r\n\t\t\t\t\t\tfullDateFormat = newValue;\r\n\t\t\t\t\t\tupdateMoment();\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tattr.$observe('amFullDateThresholdUnit', function (newValue) {\r\n\t\t\t\t\t\tfullDateThresholdUnit = newValue;\r\n\t\t\t\t\t\tupdateMoment();\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tscope.$on('$destroy', function () {\r\n\t\t\t\t\t\tcancelTimer();\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tscope.$on('amMoment:localeChanged', function () {\r\n\t\t\t\t\t\tupdateMoment();\r\n\t\t\t\t\t});\r\n\t\t\t\t};\r\n\t\t\t}])\r\n\r\n\t\t/**\r\n\t\t * @ngdoc service\r\n\t\t * @name angularMoment.service.amMoment\r\n\t\t * @module angularMoment\r\n\t\t */\r\n\t\t\t.service('amMoment', ['moment', '$rootScope', '$log', 'angularMomentConfig', function (moment, $rootScope, $log, angularMomentConfig) {\r\n\t\t\t\tvar defaultTimezone = null;\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * @ngdoc function\r\n\t\t\t\t * @name angularMoment.service.amMoment#changeLocale\r\n\t\t\t\t * @methodOf angularMoment.service.amMoment\r\n\t\t\t\t *\r\n\t\t\t\t * @description\r\n\t\t\t\t * Changes the locale for moment.js and updates all the am-time-ago directive instances\r\n\t\t\t\t * with the new locale. Also broadcasts an `amMoment:localeChanged` event on $rootScope.\r\n\t\t\t\t *\r\n\t\t\t\t * @param {string} locale Locale code (e.g. en, es, ru, pt-br, etc.)\r\n\t\t\t\t * @param {object} customization object of locale strings to override\r\n\t\t\t\t */\r\n\t\t\t\tthis.changeLocale = function (locale, customization) {\r\n\t\t\t\t\tvar result = moment.locale(locale, customization);\r\n\t\t\t\t\tif (angular.isDefined(locale)) {\r\n\t\t\t\t\t\t$rootScope.$broadcast('amMoment:localeChanged');\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn result;\r\n\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * @ngdoc function\r\n\t\t\t\t * @name angularMoment.service.amMoment#changeTimezone\r\n\t\t\t\t * @methodOf angularMoment.service.amMoment\r\n\t\t\t\t *\r\n\t\t\t\t * @description\r\n\t\t\t\t * Changes the default timezone for amCalendar, amDateFormat and amTimeAgo. Also broadcasts an\r\n\t\t\t\t * `amMoment:timezoneChanged` event on $rootScope.\r\n\t\t\t\t *\r\n\t\t\t\t * Note: this method works only if moment-timezone > 0.3.0 is loaded\r\n\t\t\t\t *\r\n\t\t\t\t * @param {string} timezone Timezone name (e.g. UTC)\r\n\t\t\t\t */\r\n\t\t\t\tthis.changeTimezone = function (timezone) {\r\n\t\t\t\t\tif (moment.tz && moment.tz.setDefault) {\r\n\t\t\t\t\t\tmoment.tz.setDefault(timezone);\r\n\t\t\t\t\t\t$rootScope.$broadcast('amMoment:timezoneChanged');\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t$log.warn('angular-moment: changeTimezone() works only with moment-timezone.js v0.3.0 or greater.');\r\n\t\t\t\t\t}\r\n\t\t\t\t\tangularMomentConfig.timezone = timezone;\r\n\t\t\t\t\tdefaultTimezone = timezone;\r\n\t\t\t\t};\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * @ngdoc function\r\n\t\t\t\t * @name angularMoment.service.amMoment#preprocessDate\r\n\t\t\t\t * @methodOf angularMoment.service.amMoment\r\n\t\t\t\t *\r\n\t\t\t\t * @description\r\n\t\t\t\t * Preprocess a given value and convert it into a Moment instance appropriate for use in the\r\n\t\t\t\t * am-time-ago directive and the filters. The behavior of this function can be overriden by\r\n\t\t\t\t * setting `angularMomentConfig.preprocess`.\r\n\t\t\t\t *\r\n\t\t\t\t * @param {*} value The value to be preprocessed\r\n\t\t\t\t * @return {Moment} A `moment` object\r\n\t\t\t\t */\r\n\t\t\t\tthis.preprocessDate = function (value) {\r\n\t\t\t\t\t// Configure the default timezone if needed\r\n\t\t\t\t\tif (defaultTimezone !== angularMomentConfig.timezone) {\r\n\t\t\t\t\t\tthis.changeTimezone(angularMomentConfig.timezone);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (angularMomentConfig.preprocess) {\r\n\t\t\t\t\t\treturn angularMomentConfig.preprocess(value);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (!isNaN(parseFloat(value)) && isFinite(value)) {\r\n\t\t\t\t\t\t// Milliseconds since the epoch\r\n\t\t\t\t\t\treturn moment(parseInt(value, 10));\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// else just returns the value as-is.\r\n\t\t\t\t\treturn moment(value);\r\n\t\t\t\t};\r\n\t\t\t}])\r\n\r\n\t\t/**\r\n\t\t * @ngdoc filter\r\n\t\t * @name angularMoment.filter:amParse\r\n\t\t * @module angularMoment\r\n\t\t */\r\n\t\t\t.filter('amParse', ['moment', function (moment) {\r\n\t\t\t\treturn function (value, format) {\r\n\t\t\t\t\treturn moment(value, format);\r\n\t\t\t\t};\r\n\t\t\t}])\r\n\r\n\t\t/**\r\n\t\t * @ngdoc filter\r\n\t\t * @name angularMoment.filter:amFromUnix\r\n\t\t * @module angularMoment\r\n\t\t */\r\n\t\t\t.filter('amFromUnix', ['moment', function (moment) {\r\n\t\t\t\treturn function (value) {\r\n\t\t\t\t\treturn moment.unix(value);\r\n\t\t\t\t};\r\n\t\t\t}])\r\n\r\n\t\t/**\r\n\t\t * @ngdoc filter\r\n\t\t * @name angularMoment.filter:amUtc\r\n\t\t * @module angularMoment\r\n\t\t */\r\n\t\t\t.filter('amUtc', ['moment', function (moment) {\r\n\t\t\t\treturn function (value) {\r\n\t\t\t\t\treturn moment.utc(value);\r\n\t\t\t\t};\r\n\t\t\t}])\r\n\r\n\t\t/**\r\n\t\t * @ngdoc filter\r\n\t\t * @name angularMoment.filter:amUtcOffset\r\n\t\t * @module angularMoment\r\n\t\t *\r\n\t\t * @description\r\n\t\t * Adds a UTC offset to the given timezone object. The offset can be a number of minutes, or a string such as\r\n\t\t * '+0300', '-0300' or 'Z'.\r\n\t\t */\r\n\t\t\t.filter('amUtcOffset', ['amMoment', function (amMoment) {\r\n\t\t\t\tfunction amUtcOffset(value, offset) {\r\n\t\t\t\t\treturn amMoment.preprocessDate(value).utcOffset(offset);\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn amUtcOffset;\r\n\t\t\t}])\r\n\r\n\t\t/**\r\n\t\t * @ngdoc filter\r\n\t\t * @name angularMoment.filter:amLocal\r\n\t\t * @module angularMoment\r\n\t\t */\r\n\t\t\t.filter('amLocal', ['moment', function (moment) {\r\n\t\t\t\treturn function (value) {\r\n\t\t\t\t\treturn moment.isMoment(value) ? value.local() : null;\r\n\t\t\t\t};\r\n\t\t\t}])\r\n\r\n\t\t/**\r\n\t\t * @ngdoc filter\r\n\t\t * @name angularMoment.filter:amTimezone\r\n\t\t * @module angularMoment\r\n\t\t *\r\n\t\t * @description\r\n\t\t * Apply a timezone onto a given moment object, e.g. 'America/Phoenix').\r\n\t\t *\r\n\t\t * You need to include moment-timezone.js for timezone support.\r\n\t\t */\r\n\t\t\t.filter('amTimezone', ['amMoment', 'angularMomentConfig', '$log', function (amMoment, angularMomentConfig, $log) {\r\n\t\t\t\tfunction amTimezone(value, timezone) {\r\n\t\t\t\t\tvar aMoment = amMoment.preprocessDate(value);\r\n\r\n\t\t\t\t\tif (!timezone) {\r\n\t\t\t\t\t\treturn aMoment;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (aMoment.tz) {\r\n\t\t\t\t\t\treturn aMoment.tz(timezone);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t$log.warn('angular-moment: named timezone specified but moment.tz() is undefined. Did you forget to include moment-timezone.js ?');\r\n\t\t\t\t\t\treturn aMoment;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn amTimezone;\r\n\t\t\t}])\r\n\r\n\t\t/**\r\n\t\t * @ngdoc filter\r\n\t\t * @name angularMoment.filter:amCalendar\r\n\t\t * @module angularMoment\r\n\t\t */\r\n\t\t\t.filter('amCalendar', ['moment', 'amMoment', 'angularMomentConfig', function (moment, amMoment, angularMomentConfig) {\r\n\t\t\t\tfunction amCalendarFilter(value, referenceTime, formats) {\r\n\t\t\t\t\tif (isUndefinedOrNull(value)) {\r\n\t\t\t\t\t\treturn '';\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar date = amMoment.preprocessDate(value);\r\n\t\t\t\t\treturn date.isValid() ? date.calendar(referenceTime, formats) : '';\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Since AngularJS 1.3, filters have to explicitly define being stateful\r\n\t\t\t\t// (this is no longer the default).\r\n\t\t\t\tamCalendarFilter.$stateful = angularMomentConfig.statefulFilters;\r\n\r\n\t\t\t\treturn amCalendarFilter;\r\n\t\t\t}])\r\n\r\n\t\t/**\r\n\t\t * @ngdoc filter\r\n\t\t * @name angularMoment.filter:amDifference\r\n\t\t * @module angularMoment\r\n\t\t */\r\n\t\t\t.filter('amDifference', ['moment', 'amMoment', 'angularMomentConfig', function (moment, amMoment, angularMomentConfig) {\r\n\t\t\t\tfunction amDifferenceFilter(value, otherValue, unit, usePrecision) {\r\n\t\t\t\t\tif (isUndefinedOrNull(value)) {\r\n\t\t\t\t\t\treturn '';\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar date = amMoment.preprocessDate(value);\r\n\t\t\t\t\tvar date2 = !isUndefinedOrNull(otherValue) ? amMoment.preprocessDate(otherValue) : moment();\r\n\r\n\t\t\t\t\tif (!date.isValid() || !date2.isValid()) {\r\n\t\t\t\t\t\treturn '';\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn date.diff(date2, unit, usePrecision);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tamDifferenceFilter.$stateful = angularMomentConfig.statefulFilters;\r\n\r\n\t\t\t\treturn amDifferenceFilter;\r\n\t\t\t}])\r\n\r\n\t\t/**\r\n\t\t * @ngdoc filter\r\n\t\t * @name angularMoment.filter:amDateFormat\r\n\t\t * @module angularMoment\r\n\t\t * @function\r\n\t\t */\r\n\t\t\t.filter('amDateFormat', ['moment', 'amMoment', 'angularMomentConfig', function (moment, amMoment, angularMomentConfig) {\r\n\t\t\t\tfunction amDateFormatFilter(value, format) {\r\n\t\t\t\t\tif (isUndefinedOrNull(value)) {\r\n\t\t\t\t\t\treturn '';\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar date = amMoment.preprocessDate(value);\r\n\t\t\t\t\tif (!date.isValid()) {\r\n\t\t\t\t\t\treturn '';\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn date.format(format);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tamDateFormatFilter.$stateful = angularMomentConfig.statefulFilters;\r\n\r\n\t\t\t\treturn amDateFormatFilter;\r\n\t\t\t}])\r\n\r\n\t\t/**\r\n\t\t * @ngdoc filter\r\n\t\t * @name angularMoment.filter:amDurationFormat\r\n\t\t * @module angularMoment\r\n\t\t * @function\r\n\t\t */\r\n\t\t\t.filter('amDurationFormat', ['moment', 'angularMomentConfig', function (moment, angularMomentConfig) {\r\n\t\t\t\tfunction amDurationFormatFilter(value, format, suffix) {\r\n\t\t\t\t\tif (isUndefinedOrNull(value)) {\r\n\t\t\t\t\t\treturn '';\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn moment.duration(value, format).humanize(suffix);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tamDurationFormatFilter.$stateful = angularMomentConfig.statefulFilters;\r\n\r\n\t\t\t\treturn amDurationFormatFilter;\r\n\t\t\t}])\r\n\r\n\t\t/**\r\n\t\t * @ngdoc filter\r\n\t\t * @name angularMoment.filter:amTimeAgo\r\n\t\t * @module angularMoment\r\n\t\t * @function\r\n\t\t */\r\n\t\t\t.filter('amTimeAgo', ['moment', 'amMoment', 'angularMomentConfig', function (moment, amMoment, angularMomentConfig) {\r\n\t\t\t\tfunction amTimeAgoFilter(value, suffix, from) {\r\n\t\t\t\t\tvar date, dateFrom;\r\n\r\n\t\t\t\t\tif (isUndefinedOrNull(value)) {\r\n\t\t\t\t\t\treturn '';\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvalue = amMoment.preprocessDate(value);\r\n\t\t\t\t\tdate = moment(value);\r\n\t\t\t\t\tif (!date.isValid()) {\r\n\t\t\t\t\t\treturn '';\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tdateFrom = moment(from);\r\n\t\t\t\t\tif (!isUndefinedOrNull(from) && dateFrom.isValid()) {\r\n\t\t\t\t\t\treturn date.from(dateFrom, suffix);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn date.fromNow(suffix);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tamTimeAgoFilter.$stateful = angularMomentConfig.statefulFilters;\r\n\r\n\t\t\t\treturn amTimeAgoFilter;\r\n\t\t\t}])\r\n\r\n\t\t/**\r\n\t\t * @ngdoc filter\r\n\t\t * @name angularMoment.filter:amSubtract\r\n\t\t * @module angularMoment\r\n\t\t * @function\r\n\t\t */\r\n\t\t\t.filter('amSubtract', ['moment', 'angularMomentConfig', function (moment, angularMomentConfig) {\r\n\t\t\t\tfunction amSubtractFilter(value, amount, type) {\r\n\r\n\t\t\t\t\tif (isUndefinedOrNull(value)) {\r\n\t\t\t\t\t\treturn '';\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn moment(value).subtract(parseInt(amount, 10), type);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tamSubtractFilter.$stateful = angularMomentConfig.statefulFilters;\r\n\r\n\t\t\t\treturn amSubtractFilter;\r\n\t\t\t}])\r\n\r\n\t\t/**\r\n\t\t * @ngdoc filter\r\n\t\t * @name angularMoment.filter:amAdd\r\n\t\t * @module angularMoment\r\n\t\t * @function\r\n\t\t */\r\n\t\t\t.filter('amAdd', ['moment', 'angularMomentConfig', function (moment, angularMomentConfig) {\r\n\t\t\t\tfunction amAddFilter(value, amount, type) {\r\n\r\n\t\t\t\t\tif (isUndefinedOrNull(value)) {\r\n\t\t\t\t\t\treturn '';\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn moment(value).add(parseInt(amount, 10), type);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tamAddFilter.$stateful = angularMomentConfig.statefulFilters;\r\n\r\n\t\t\t\treturn amAddFilter;\r\n\t\t\t}])\r\n\r\n\t\t/**\r\n\t\t * @ngdoc filter\r\n\t\t * @name angularMoment.filter:amStartOf\r\n\t\t * @module angularMoment\r\n\t\t * @function\r\n\t\t */\r\n\t\t\t.filter('amStartOf', ['moment', 'angularMomentConfig', function (moment, angularMomentConfig) {\r\n\t\t\t\tfunction amStartOfFilter(value, type) {\r\n\r\n\t\t\t\t\tif (isUndefinedOrNull(value)) {\r\n\t\t\t\t\t\treturn '';\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn moment(value).startOf(type);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tamStartOfFilter.$stateful = angularMomentConfig.statefulFilters;\r\n\r\n\t\t\t\treturn amStartOfFilter;\r\n\t\t\t}])\r\n\r\n\t\t/**\r\n\t\t * @ngdoc filter\r\n\t\t * @name angularMoment.filter:amEndOf\r\n\t\t * @module angularMoment\r\n\t\t * @function\r\n\t\t */\r\n\t\t\t.filter('amEndOf', ['moment', 'angularMomentConfig', function (moment, angularMomentConfig) {\r\n\t\t\t\tfunction amEndOfFilter(value, type) {\r\n\r\n\t\t\t\t\tif (isUndefinedOrNull(value)) {\r\n\t\t\t\t\t\treturn '';\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn moment(value).endOf(type);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tamEndOfFilter.$stateful = angularMomentConfig.statefulFilters;\r\n\r\n\t\t\t\treturn amEndOfFilter;\r\n \t\t\t}]);\r\n\r\n\t\treturn 'angularMoment';\r\n\t}\r\n\r\n\tvar isElectron = window && window.process && window.process.type;\r\n\tif (typeof define === 'function' && define.amd) {\r\n\t\tdefine(['angular', 'moment'], angularMoment);\r\n\t} else if (typeof module !== 'undefined' && module && module.exports && (typeof require === 'function') && !isElectron) {\r\n\t\tmodule.exports = angularMoment(require('angular'), require('moment'));\r\n\t} else {\r\n\t\tangularMoment(angular, (typeof global !== 'undefined' ? global : window).moment);\r\n\t}\r\n})();\r\n"}